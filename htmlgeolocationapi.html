<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>HTML API геолокації</title>
  </head>
  <body>
    <h1>HTML API геолокації</h1>
    <p>
      HTML Geolocation API використовується для визначення місця розташування
      користувача.
    </p>
    <hr />

    <h2>Знайдіть місце розташування користувача</h2>
    <p>
      HTML Geolocation API використовується для отримання географічного
      положення користувача. <br />
      Оскільки це може поставити під загрозу конфеденційність, функція
      недоступна, якщо користувач її не схвалить. <br />
      <b>Примітка.</b> Геолокоція найточніша для пристроїв з GPS, наприклад
      смартфонів.
    </p>
    <hr />

    <h2>Підтримка браузера</h2>
    <p>
      <b>Примітка.</b> Починаючи з Chronme 50, API геолокації працюватиме лише в
      безпечних контекстах, таких як HTTPS. Якщо ваш сайт розміщено на
      незахищеному джерелі (наприклад, HTTP), запити на отримання
      місцезнаходження користувача більше не працюватимуть.
    </p>
    <hr />

    <h2>Використання геолокації HTML</h2>
    <p>
      Метод getCurrentPosition() використовується для повернення позиції
      користувача. Приклад нижче повертає щироту та довготу місця розтащування
      користувача:
    </p>
    <code>
      &lt;button onclick="getLocation()"&gt;Try it!&lt;/button&gt; <br />
      &lt;p id="demo"&gt;&lt;/p&gt; <br />
      &lt;script&gt; <br />
      var x = document.getElementById("demo"); <br />
      function getLocation(){ <br />
      if (navigator.geolocation){ <br />
      navigator.geolocation.getCurrentPosition(showPosition); <br />
      }; <br />
      else{ <br />
      x.innerHTML="Geolocation is not supported by this browser."; <br />
      } <br />
      } <br />
      function showPosition(position){ <br />
      x.innerHTML = "Latitude: " + position.coords.latitude +
      "&lt;br&gt;Longitude: " +position.coords.longitude; <br />
      } <br />
      &lt;/script&gt;
    </code>
    <p>Відображатиметься так:</p>
    <button onclick="getLocation()">Try it!</button>
    <p id="demo"></p>
    <script>
      var x = document.getElementById("demo");

      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }
      function showPosition(position) {
        x.innerHTML =
          "Latitude: " +
          position.coords.latitude +
          "<br>Longitude: " +
          position.coords.longitude;
      }
    </script>
    <p>Приклад пояснення:</p>
    <ul>
      <li>Перевірте, чи підтримується геолокація.</li>
      <li>
        Якщо підтримується, запустіть метод getCurrentPosition().Якщо ні,
        виведіть повідомлення для користувача.
      </li>
      <li>
        Якщо метод getCurrentPosition() виконується успішно, він повертає об'єкт
        координат до функції, зазначеної в параметрі (showPosition)
      </li>
      <li>Функція showPosition() виводить широту та довготу</li>
    </ul>
    <p>
      Наведений вище приклад є дуже простим сценарієм геолокації без обробки
      помилок.
    </p>
    <hr />

    <h2>Обробка помилок і відхилень</h2>
    <p>
      Другий параметр getCurrentPosition() методу використовується для обробки
      помилок. Він визначає функцію для запуску, якщо їй не вдається отримати
      місцезнаходження користувача:
    </p>
    <code>
      function showError(error){ <br />
      switch (error.code){ <br />
      case error.PERMITION_DENIED: <br />
      x.innerHTML = "User denied the request for Geolocation." <br />
      break; <br />
      case error.POSITION_UNAVAILABLE: <br />
      x.innerHTML = "Location information is unavailable." <br />
      break; <br />
      case error.TIMEOUT: <br />
      x.innerHTML = "The request to get user location timed out." <br />
      break; <br />
      case error.UNKNOWN_ERROR: <br />
      x.innerHTML = "An unknown error occured." <br />
      break; <br />
      } <br />
      } <br />
    </code>
    <p>Відображатиметься так:</p>
    <button onclick="getLocation()">Try it!</button>
    <p id="demo"></p>
    <script>
      var x = document.getElementById("demo");

      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }
      function showPosition(position) {
        x.innerHTML =
          "Latitude: " +
          position.coords.latitude +
          "<br>Longitude: " +
          position.coords.longitude;
      }
      function showError(error) {
        switch (error.code) {
          case error.PERMITION_DENIED:
            x.innerHTML = "User denied the request for Geolocation.";
            break;
          case error.POSITION_UNAVAILABLE:
            x.innerHTML = "Location information is unavailable.";
            break;
          case error.TIMEOUT:
            x.innerHTML = "The request to get user location timed out.";
            break;
          case error.UNKNOWN_ERROR:
            x.innerHTML = "An unknown error occured.";
            break;
        }
      }
    </script>
    <hr />

    <h2>Інформація про місцезнаходження</h2>
    <p>
      Ця сторінка продемонструвала, як показати позицію користувача на карті.
      <br />
      Геолокація також дуже корисна для інформації про місцезнаходження,
      наприклад:
    </p>
    <ul>
      <li>Актуальна місцева інформація</li>
      <li>Показ визначних місць поблизу користувача</li>
      <li>Покрокова навігація (GPS)</li>
    </ul>
    <hr />

    <h2>Метод getCurrentPosition() - повернення даних</h2>
    <p>
      Метод getCurrentPosition() повертає об'єкт у разі успіху. Властивості
      широти, довготи та точності завжди повертаються. Інші властивості
      повертаються, якщо вони доступні:
    </p>
    <ul>
      <li>coords.latitude - широта як десяткове число (завжди повертається)</li>
      <li>
        coords.longitude - довгота як десяткове число (завжди повертається)
      </li>
      <li>coorsd.accuracy - точність положення (завжди повертається)</li>
      <li>
        coords.altitude - висота в метрах над середнім рівнем моря
        (повертається, якщо доступно)
      </li>
      <li>
        coords.altitudeAccuracy - точність висоти положення (повертається, якщо
        доступно)
      </li>
      <li>
        coords.heading - напрямок у градусах за годинниковою стрілкою від
        півночі (повертається, якщо доступно)
      </li>
      <li>
        coords.speed - швидкість у метрах за секунду (повертається, якщо
        доступно)
      </li>
      <li>timestamp - дата/чамс відповіді (повертається, якщо доступно)</li>
    </ul>
    <hr />

    <h2>Об'єкт геолокації - інші цікаві методи</h2>
    <p>Об'єкт Geolocation також має інші цікаві методи:</p>
    <ul>
      <li>
        watchPosition() -повертає поточне положення користувача та продовжує
        повертати оновлене положення, коли користувач рухається (як GPS в
        автомобілі).
      </li>
      <li>clearWatch() - зупиняє watchPosition() метод.</li>
    </ul>
    <p>
      Приклад нижче показує watchPosition() метод. Щоб перевірити це, вам
      потрібен точний пристрій GPS (наприклад, смартфон):
    </p>
    <code>
      var x = document.getElementById("demo"); <br />
      function getLocation(){ <br />
      if (navigator.geolocation){ <br />
      navigator.geolocation.watchPosition(showPosition); <br />
      } <br />
      else{ <br />
      x.innerHTML = "Geolocation is not supported by this browser."; <br />
      } <br />
      } <br />
      function showPosition(position){ <br />
      x.innerHTML = "Latitude:" + <br />
      position.coords.latitude + <br />
      "&lt;br&gt;Longitude: " + <br />
      position.coords.longitude; <br />
      } <br />
    </code>
    <p>Відображатиметься так:</p>
    <button onclick="getLocation()">Try it!</button>
    <p id="demo"></p>
    <script>
      var x = document.getElementById("demo");
      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.watchPosition(showPosition);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }
      function showPosition(position) {
        x.innerHTML =
          "Latitude:" +
          position.coords.latitude +
          "<br/>Longitude: " +
          position.coords.longitude;
      }
    </script>
  </body>
</html>
