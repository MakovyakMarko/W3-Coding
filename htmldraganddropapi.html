<!DOCTYPE html>
<html lang="ua">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>HTML Drag and Drop API</title>
    <style>
      #div1 {
        width: 350px;
        height: 70px;
        padding: 10px;
        border: 1px solid #aaaaaa;
      }
      #div2,
      #div3 {
        float: left;
        width: 100px;
        height: 35px;
        margin: 10px;
        padding: 10px;
        border: 1px solid black;
      }
    </style>
    <script>
      function allowDrop(ev) {
        ev.preventDefault();
      }
      function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
      }
      function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        ev.target.appendChild(document.getElementById(data));
      }
    </script>
  </head>
  <body>
    <h1>HTML Drag and Drop API</h1>
    <p>У html будь-який елемент можна перетягувати.</p>
    <hr />

    <h2>Перетягнути і кинути</h2>
    <p>
      Перетягування є дуже поширеною функцією. Це коли ви "захоплюєте" об'єкт і
      перетягуєте його в інше місце
    </p>

    <h2>Приклад перетягування HTML</h2>
    <p>Приклад нижче є простим прикладом перетягування:</p>
    <code>
      &lt;script&gt; <br />
      function allowDrop(ev){ <br />
      ev.preventDefault(); <br />
      } <br />
      function drag(ev){ <br />
      ev.dataTransfer.setData("text", ev.target.id); <br />
      } <br />
      function drop(ev){ <br />
      ev.preventDefault(); <br />
      var.data = ev.dataTransfer.getData("text"); <br />
      ev.target.appendChild(document.getElementById(data)); <br />
      } <br />
      &lt;/script&gt; <br />
      &lt;div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"&gt;
      &lt;/div&gt; <br />
      &lt;img id="drag1" src="img_logo.gif" draggable="true"
      ondragstart="drag(event)" width="336" height="69"&gt;
    </code>
    <p>Відображатиметься так:</p>

    <div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
    <img
      id="drag1"
      src="img_logo.gif"
      draggable="true"
      ondragstart="drag(event)"
      width="336"
      height="69"
    />
    <hr />

    <h2>Зробіть елемент перетягуваним</h2>
    <p>
      Перш за все: щоб елемент можна було перетягувати, встановіть для draggable
      атрибути значення true: <br />
      &lt;img draggable="true"&gt;
    </p>
    <hr />

    <h2>Що перетягувати - ondragstart i setData()</h2>
    <p>
      Потім вкажіть, що має відбуватися під час перетягування елемента. <br />
      У наведеному вище прикладі ondragstart атрибут викликає функцію
      drag(event), яка вказує, які дані потрібно перетягнути. <br />
      Метод dataTransfer.setData() встановлює тип даних і значення перетягнутих
      даних: <br />
      functio drag(ev){ <br />
      ev.dataTrasfer.setData("text", ev.target.id); <br />
      } <br />
      У цьому випадку тип даних - "текст", а значення - ідентифікатор елемента,
      який можна перетягувати ("drag1")
    </p>
    <hr />

    <h2>Де скинути - ondragover</h2>
    <p>
      Подія ondragover вказує, куди можна перетягнути дані. <br />
      За замовчуванням дані/елементи не можна перекинути в інші елементи. Щоб
      дозволити відкидання, ми повинні заборонити обробку елемента за
      замовчуванням. <br />
      Це робиться шляхом виклику event.preventDefault() методу для події
      ondragover.
    </p>
    <hr />

    <h2>Роби drop - ondrop</h2>
    <p>
      Коли перетягнуті дані скидаються, відбувається подія скидання. <br />
      У наведеному вище прикладі атрибут ondrop викликає функцію drop(event):
      <br />
      function drop(ev){ <br />
      ev.preventDefault(); <br />
      var data = ev.dataTransfer.getData("text"); <br />
      ev.target.appendChild(document.getElementById(data)) <br />
      } <br />
      Пояснення коду:
    </p>
    <ul>
      <li>
        Викличте preventDefault(), щоб запобігти обробці даних браузером за
        замовчуванням
      </li>
      <li>
        Отримайте перетягнуті дані за допомогою методу dataTransfer.getData().
        Цей метод поверне будь-які дані, для яких було встановлено той самий тип
        у методі setData().
      </li>
      <li>
        Перетягнутими даними є ідентифікатор перетягуваного елемента ("drag1")
      </li>
      <li>Додайте перетягнутий елемент до випадаючого елемента</li>
    </ul>
    <hr />
    <h2>Більше прикладів</h2>
    <div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)">
      <img
        src="img_w3slogo.gif"
        draggable="true"
        ondragstart="drag(event)"
        id="drag2"
        width="88"
        height="31"
      />
    </div>
    <div id="div3" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
  </body>
</html>
